const geotools = require('../geotools') 

let name = "北线嘉兴", kmlId = "n20221127"
let kml = "121.53532,29.64609,38 121.53549,29.64609,40 121.5356,29.64606,40 121.5357,29.64602,40 121.53579,29.64602,40 121.53588,29.64602,41 121.53598,29.64602,41 121.53607,29.64601,42 121.53618,29.64601,42 121.53629,29.646,44 121.53646,29.646,46 121.53656,29.64597,47 121.53666,29.64589,51 121.53679,29.64589,50 121.53691,29.64581,51 121.53702,29.64576,52 121.53714,29.6457,52 121.5372,29.64559,55 121.53728,29.6455,55 121.53734,29.64539,56 121.5374,29.64529,56 121.53747,29.6452,55 121.53756,29.64515,54 121.53765,29.64513,54 121.53781,29.64513,52 121.53791,29.64509,53 121.53801,29.64501,54 121.53812,29.64497,54 121.53824,29.64497,54 121.53841,29.64486,55 121.53858,29.64486,55 121.53873,29.64479,55 121.53886,29.64475,56 121.53897,29.64472,57 121.53909,29.64471,59 121.53926,29.64472,61 121.53938,29.64471,62 121.53955,29.64471,64 121.53966,29.64474,66 121.53977,29.64476,68 121.53988,29.6447,69 121.54003,29.64465,70 121.54013,29.64462,71 121.54023,29.64458,72 121.54038,29.64451,74 121.54046,29.64443,74 121.54051,29.64434,74 121.54054,29.64424,74 121.54057,29.64413,73 121.54058,29.64404,72 121.5406,29.64395,71 121.54063,29.64382,71 121.54068,29.64371,72 121.54078,29.64368,73 121.54089,29.64369,75 121.54099,29.6437,76 121.54109,29.6437,78 121.5412,29.64369,80 121.54131,29.64369,83 121.54143,29.64368,85 121.54154,29.64368,87 121.54169,29.6438,92 121.54179,29.6438,94 121.54189,29.64378,96 121.54201,29.64378,99 121.54211,29.64371,100 121.54219,29.64367,101 121.54228,29.64367,104 121.54238,29.64367,106 121.54248,29.64361,107 121.54257,29.64356,108 121.54268,29.64357,110 121.54281,29.64362,113 121.54293,29.64362,116 121.54303,29.64365,120 121.54313,29.6437,124 121.54324,29.6437,126 121.54336,29.64381,132 121.54352,29.64391,139 121.54361,29.64401,144 121.54373,29.64401,149 121.54383,29.64415,159 121.54398,29.64427,169 121.54413,29.64437,178 121.54424,29.64437,181 121.54435,29.64444,185 121.54444,29.64432,184 121.54454,29.64426,185 121.54465,29.64416,184 121.54479,29.64416,187 121.54492,29.64416,191 121.54501,29.64422,196 121.54508,29.64429,200 121.5451,29.64444,205 121.54512,29.64461,211 121.54521,29.64461,214 121.5453,29.64461,219 121.54527,29.64471,220 121.54537,29.64466,224 121.54538,29.64479,230 121.54549,29.6448,237 121.54564,29.6448,245 121.54556,29.64492,248 121.54568,29.64493,253 121.54579,29.64493,258 121.54572,29.64505,260 121.54576,29.64519,267 121.54585,29.64519,271 121.54594,29.64525,279 121.54594,29.64535,282 121.54595,29.64543,285 121.54595,29.64551,288 121.54604,29.64555,293 121.54614,29.64559,299 121.54618,29.6455,298 121.54621,29.64539,296 121.54632,29.64539,301 121.54633,29.64547,303 121.54634,29.64554,306 121.54633,29.64569,314 121.54634,29.64579,320 121.54632,29.64588,324 121.54631,29.64597,327 121.54628,29.64607,331 121.54621,29.64616,333 121.54613,29.64623,333 121.54614,29.64633,337 121.54617,29.64647,340 121.54615,29.64657,341 121.54613,29.64666,342 121.54608,29.64675,342 121.54618,29.64685,345 121.54628,29.64685,347 121.54638,29.64687,350 121.54654,29.64687,355 121.54662,29.6468,358 121.54678,29.64671,364 121.54687,29.64665,367 121.54697,29.64659,369 121.54708,29.64647,370 121.54715,29.64637,370 121.54726,29.64626,370 121.5474,29.64636,378 121.54745,29.64645,383 121.54753,29.64652,388 121.54762,29.64658,392 121.54774,29.64662,397 121.54787,29.64666,402 121.54798,29.64656,401 121.54808,29.64656,404 121.54818,29.64648,404 121.54829,29.64646,407 121.5484,29.64646,412 121.54853,29.64652,419 121.54861,29.64647,421 121.54871,29.64651,426 121.54881,29.64651,429 121.54892,29.64652,433 121.54904,29.6465,436 121.54915,29.6465,440 121.54924,29.64646,442 121.54933,29.64642,444 121.5494,29.64658,453 121.5495,29.64658,458 121.54962,29.64658,463 121.54964,29.64667,470 121.54953,29.64679,466 121.54964,29.64678,473 121.54976,29.64677,479 121.54987,29.64676,484 121.54999,29.64676,489 121.55015,29.64683,495 121.55024,29.64683,498 121.55033,29.64686,500 121.55044,29.64687,503 121.55056,29.64687,505 121.55065,29.64682,506 121.55074,29.64674,508 121.55086,29.64673,512 121.55098,29.64673,516 121.55107,29.64667,519 121.55124,29.64666,524 121.55136,29.64666,528 121.55147,29.64666,530 121.55159,29.64667,531 121.55176,29.64667,536 121.55187,29.64665,540 121.552,29.64665,545 121.55211,29.64663,549 121.55222,29.64663,554 121.55232,29.64659,557 121.55242,29.64653,560 121.55253,29.64653,562 121.55266,29.64638,562 121.55277,29.64638,562 121.55288,29.64641,563 121.55299,29.64645,566 121.5531,29.64645,568 121.55322,29.64647,574 121.55333,29.64647,578 121.55343,29.64651,583 121.55354,29.64651,588 121.55366,29.6465,592 121.55379,29.64649,595 121.55391,29.64653,599 121.55401,29.64653,601 121.5541,29.64648,601 121.55426,29.64646,604 121.55437,29.64646,607 121.55446,29.6465,610 121.55455,29.64657,613 121.55466,29.64657,614 121.55477,29.64657,616 121.55488,29.64658,619 121.555,29.64657,621 121.55517,29.64657,625 121.55533,29.64648,630 121.5555,29.64648,633 121.55559,29.64644,634 121.55568,29.64639,634 121.55575,29.64637,634 121.55575,29.64637,634"


let coords = kml.split(' ')
let coord = [],
	line = []
for (let s of coords) {
	let c = s.split(',')
	coord.push([Number(c[0]),Number(c[1]),Number(c[2])])
}

let arr = []
for (var i = 0; i < coord.length; i++) {
	arr.push(coord[i])
	if(i>10) {
		let {len} = geotools.calData(arr)
		if(len>=10500) {
			line.push(
				{
				    "name": name+(line.length+1)+'队',
					kmlId,
				    "t2": 10,
				    "desc": "",
				    "t1": 1,
				    "coord": arr,
				    "createTime": "2022-11-15 21:52:44",
				    "updateTime": "2022-11-15 21:52:44"
				}
			)
			arr = []
		}
	}
}
line.push({
		    "name": name+(line.length+1)+'队',
			kmlId,
		    "t2": 10,
		    "desc": "",
		    "t1": 1,
		    "coord": arr,
		    "createTime": "2022-11-15 21:52:44",
		    "updateTime": "2022-11-15 21:52:44"
		}
	)

// console.log(coord);
console.log(line.length);

for (let s of line) {
	console.info(JSON.stringify(s))
}